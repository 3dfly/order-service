spring.application.name=order-service

# ==== Development Settings ====
spring.devtools.restart.enabled=false

# ==== Logging Configuration ====
logging.level.com.threedfly.orderservice=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.boot=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ==== Database Configuration ====
# Use H2 for local development and testing
spring.profiles.active=local

# ==== Local Profile (H2 Database) ====
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ==== Production Profile (MySQL) ====
# These will be overridden by environment variables in production
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# ==== JPA / Hibernate ====
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always

# ==== Connection Pool Settings ====
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.validation-timeout=5000

# ==== Actuator for Health Checks ====
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# ==== Server Configuration ====
server.port=8080

# ==== 3D Printing Pricing Configuration ====
printing.price.per-gram=0.05
printing.price.per-minute=0.10

# Slicer type selection (prusa or bambu)
printing.slicer.type=prusa

# Slicer paths for each type
printing.prusa.slicer.path=/Applications/PrusaSlicer.app/Contents/MacOS/PrusaSlicer
printing.bambu.slicer.path=/Applications/BambuStudio.app/Contents/MacOS/BambuStudio

printing.bambu.printer.config=bambu_a1
printing.temp.directory=/tmp/printing-calculations
printing.slicer.config.directory=slicer-configs

# Auto-orientation configuration (requires Python 3 with trimesh)
printing.orientation.enabled=true
printing.orientation.script.path=scripts/auto_orient_model.py
printing.orientation.timeout=60000

# ==== 3D Print Quotation Pricing Configuration ====
# Technology multipliers (base cost multiplier per technology)
printing.pricing.technology.FDM=1.0
printing.pricing.technology.SLS=1.5
printing.pricing.technology.SLA=2.0

# Material configurations
# PLA
printing.pricing.material.PLA.density=1.24
printing.pricing.material.PLA.price-per-gram=0.05

# ABS
printing.pricing.material.ABS.density=1.04
printing.pricing.material.ABS.price-per-gram=0.06

# PETG
printing.pricing.material.PETG.density=1.27
printing.pricing.material.PETG.price-per-gram=0.055

# TPU
printing.pricing.material.TPU.density=1.2
printing.pricing.material.TPU.price-per-gram=0.08

# Pricing factors
printing.pricing.shell-cost-factor=0.25
printing.pricing.standard-layer-height=0.2

# ==== File Upload Configuration ====
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB
spring.servlet.multipart.enabled=true

# ==== Payment Configuration ====
payment.platform.fee=3.00
payment.platform.currency=USD

# ==== PayPal Configuration ====
paypal.client.id=Ac476ipWU7bVKXy8b3MtYnlQb8UFx6rtXBFZfnh5JXX8DNq4HY2pQ5zEq3UKsN2Oce4sVqQvAu9fBuJ1
paypal.client.secret=EEk8Ro6a2ER_oQjaw7MO7wQa0YOBeaiHb2L8tSczDtMfqHgG1n5IYQkbrUVECpi2E6ZwvU90f0J0NH39
paypal.mode=sandbox